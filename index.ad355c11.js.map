{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAuBC,SAASC,cAAc,2BAC9CC,EAAwBF,SAASC,cAAc,6BAC/CE,EAAYH,SAASC,cAAc,eACnCG,EAAYJ,SAASC,cAAc,eACnCI,EAAaL,SAASC,cAAc,gBACpCK,EAAkBN,SAASC,cAAc,qBACzCM,EAAkBP,SAASC,cAAc,uBAG/C,IAAIO,EACAC,EA8CJ,SAASC,IACPD,EAAgBE,KAAKH,E,CAIvB,SAASI,IACPH,EAAkBA,EAAgBI,QAAQC,IAAUA,EAAKC,IAAQP,EAASO,GAAG,G,CAvD/Df,SAASC,cAAc,aAK/Be,iBAAiB,SAIzBC,eAA8BC,GAC5BA,EAAMC,iBACN,IACEX,QA+BJS,eAA2BG,GACzB,MAAMC,QAAiBxB,EAAAyB,QAAMC,IAAI,6CAA6CH,KAC9E,aAAaC,EAASG,I,CAjCHC,CAAYP,EAAMQ,OAAOC,QAAQC,IAClDC,QAAQC,IAAIZ,EAAMQ,OAAOC,QAAQC,IACjC7B,EAAqBgC,UAAUC,QAAQ,SAAU,WACjD7B,EAAU8B,aAAa,MAAOzB,EAAS0B,YACvC/B,EAAU8B,aAAa,MAAOzB,EAAS2B,OACvC/B,EAAUgC,YAAc5B,EAAS2B,MACjC9B,EAAW+B,YAAc5B,EAAS6B,OAClC/B,EAAgB8B,YAAc5B,EAAS8B,YAEnC7B,EAAgB8B,MAAMzB,IAAUA,EAAKC,IAAQP,EAASO,GAAG,KAC3DR,EAAgBiC,oBAAoB,QAAS9B,GAC7CH,EAAgBS,iBAAiB,QAASJ,GAC1CL,EAAgB6B,YAAc,6BAG9B7B,EAAgBiC,oBAAoB,QAAS5B,GAC7CL,EAAgBS,iBAAiB,QAASN,GAC1CH,EAAgB6B,YAAc,sB,CAGlC,MACEP,QAAQC,IAAI,Q,KA3BhB5B,EAAsBc,iBAAiB,SAgCvC,WACEjB,EAAqBgC,UAAUC,QAAQ,UAAW,S","sources":["src/js/pop-up.js"],"sourcesContent":["import axios from \"axios\";\n\nconst popupModalBackground = document.querySelector(\".popup-modal-background\");\nconst popupModalCloseButton = document.querySelector(\".popup-modal-close-button\");\nconst bookImage = document.querySelector(\".book-image\");\nconst bookTitle = document.querySelector(\".book-title\");\nconst bookAuthor = document.querySelector(\".book-author\");\nconst bookDescription = document.querySelector(\".book-description\");\nconst addToListButton = document.querySelector(\".add-to-list-button\");\nconst jsBooks = document.querySelector(\".js-books\");\n\nlet bookData;\nlet bookShopingList;\n\njsBooks.addEventListener(\"click\", openPopupModal);\npopupModalCloseButton.addEventListener(\"click\", closePopupModal);\n\n\nasync function openPopupModal(event) {\n  event.preventDefault();\n  try {\n    bookData = await getBookInfo(event.target.dataset.id);\n    console.log(event.target.dataset.id);\n    popupModalBackground.classList.replace(\"hidden\", \"visible\");\n    bookImage.setAttribute(\"src\", bookData.book_image);\n    bookImage.setAttribute(\"alt\", bookData.title);\n    bookTitle.textContent = bookData.title;\n    bookAuthor.textContent = bookData.author;\n    bookDescription.textContent = bookData.description;\n\n    if (bookShopingList.some((book) => {book._id === bookData._id})) {\n      addToListButton.removeEventListener(\"click\", addToListFunction);\n      addToListButton.addEventListener(\"click\", removeFromListFunction);\n      addToListButton.textContent = \"REMOVE FROM SHOPING LIST\";\n    }\n    else {\n      addToListButton.removeEventListener(\"click\", removeFromListFunction);\n      addToListButton.addEventListener(\"click\", addToListFunction);\n      addToListButton.textContent = \"ADD TO SHOPING LIST\";\n    }\n  }\n  catch {\n    console.log(\"Error\");\n  }\n}\n\n\nfunction closePopupModal() {\n  popupModalBackground.classList.replace(\"visible\", \"hidden\");\n}\n\n\nasync function getBookInfo(bookId) {\n  const response = await axios.get(`https://books-backend.p.goit.global/books/${bookId}`);\n  return await response.data;\n}\n\n\nfunction addToListFunction() {\n  bookShopingList.push(bookData);\n}\n\n\nfunction removeFromListFunction() {\n  bookShopingList = bookShopingList.filter((book) => {book._id !== bookData._id});\n}\n\n\nconst bookObjectExample = {\n  \"_id\": \"642fd89ac8cf5ee957f12361\",\n  \"list_name\": \"Middle Grade Paperback Monthly\",\n  \"date\": \"2023-04-07T08:46:57.000Z\",\n  \"age_group\": \"\",\n  \"amazon_product_url\": \"https://www.amazon.com/Wish-Barbara-OConnor/dp/1250144051?tag=NYTBSREV-20\",\n  \"article_chapter_link\": \"\",\n  \"author\": \"Barbara O'Connor\",\n  \"book_image\": \"https://storage.googleapis.com/du-prd/books/images/9781250144058.jpg\",\n  \"book_image_width\": 330,\n  \"book_image_height\": 485,\n  \"book_review_link\": \"\",\n  \"book_uri\": \"nyt://book/46604242-8624-57d1-bdd4-424c21cde273\",\n  \"contributor\": \"by Barbara O'Connor\",\n  \"contributor_note\": \"\",\n  \"created_date\": \"2023-04-05 23:10:17\",\n  \"description\": \"\",\n  \"first_chapter_link\": \"\",\n  \"price\": \"0.00\",\n  \"primary_isbn10\": \"1250144051\",\n  \"primary_isbn13\": \"9781250144058\",\n  \"publisher\": \"Square Fish\",\n  \"rank\": 1,\n  \"rank_last_week\": 0,\n  \"sunday_review_link\": \"\",\n  \"title\": \"WISH\",\n  \"updated_date\": \"2023-04-05 23:10:17\",\n  \"weeks_on_list\": 0,\n  \"buy_links\": [\n    {\n      \"name\": \"Amazon\",\n      \"url\": \"https://www.amazon.com/Wish-Barbara-OConnor/dp/1250144051?tag=NYTBSREV-20\"\n    },\n    {\n      \"name\": \"Apple Books\",\n      \"url\": \"https://goto.applebooks.apple/9781250144058?at=10lIEQ\"\n    },\n    {\n      \"name\": \"Barnes and Noble\",\n      \"url\": \"https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9781250144058\"\n    },\n    {\n      \"name\": \"Books-A-Million\",\n      \"url\": \"https://du-gae-books-dot-nyt-du-prd.appspot.com/redirect?url1=https%3A%2F%2Fwww.anrdoezrs.net%2Fclick-7990613-35140%3Furl%3Dhttps%253A%252F%252Fwww.booksamillion.com%252Fp%252FWISH%252FBarbara%252BO%252527Connor%252F9781250144058&url2=https%3A%2F%2Fwww.anrdoezrs.net%2Fclick-7990613-35140%3Furl%3Dhttps%253A%252F%252Fwww.booksamillion.com%252Fsearch%253Fquery%253DWISH%252BBarbara%252BO%252527Connor\"\n    },\n    {\n      \"name\": \"Bookshop\",\n      \"url\": \"https://du-gae-books-dot-nyt-du-prd.appspot.com/redirect?url1=https%3A%2F%2Fbookshop.org%2Fa%2F3546%2F9781250144058&url2=https%3A%2F%2Fbookshop.org%2Fbooks%3Faffiliate%3D3546%26keywords%3DWISH\"\n    },\n    {\n      \"name\": \"IndieBound\",\n      \"url\": \"https://du-gae-books-dot-nyt-du-prd.appspot.com/redirect?url1=https%3A%2F%2Fwww.indiebound.org%2Fbook%2F9781250144058%3Faff%3DNYT&url2=https%3A%2F%2Fwww.indiebound.org%2Fsearch%2Fbook%3Fkeys%3DWISH%2BBarbara%2BO%2527Connor%26aff%3DNYT\"\n    }\n  ],\n  \"__v\": 0\n}\n\n\n"],"names":["$2shzp","parcelRequire","$0244a5a1b3e8d0b6$var$popupModalBackground","document","querySelector","$0244a5a1b3e8d0b6$var$popupModalCloseButton","$0244a5a1b3e8d0b6$var$bookImage","$0244a5a1b3e8d0b6$var$bookTitle","$0244a5a1b3e8d0b6$var$bookAuthor","$0244a5a1b3e8d0b6$var$bookDescription","$0244a5a1b3e8d0b6$var$addToListButton","$0244a5a1b3e8d0b6$var$bookData","$0244a5a1b3e8d0b6$var$bookShopingList","$0244a5a1b3e8d0b6$var$addToListFunction","push","$0244a5a1b3e8d0b6$var$removeFromListFunction","filter","book","_id","addEventListener","async","event","preventDefault","bookId","response","default","get","data","$0244a5a1b3e8d0b6$var$getBookInfo","target","dataset","id","console","log","classList","replace","setAttribute","book_image","title","textContent","author","description","some","removeEventListener"],"version":3,"file":"index.ad355c11.js.map"}