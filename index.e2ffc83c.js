var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in o){var n=o[e];delete o[e];var r={id:e,exports:{}};return t[e]=r,n.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){o[e]=t},e.parcelRequired7c6=n);var r=n("2shzp");const i=document.querySelector(".js-books"),l=document.querySelector(".popup-modal-background"),c=document.querySelector(".popup-modal-close-button"),d=document.querySelector(".book-image"),s=document.querySelector(".book-title"),u=document.querySelector(".book-author"),a=document.querySelector(".book-description"),p=document.querySelector(".add-to-list-button"),b=document.querySelector(".amazon-link"),f=document.querySelector(".bookshop-link"),k=document.querySelector(".applebook-link");let m,S=JSON.parse(localStorage.getItem("bookShopingListLS"))||[];function g(){console.log(S),S.some((e=>e._id===m._id))?(p.removeEventListener("click",y),p.addEventListener("click",h),p.textContent="REMOVE FROM SHOPING LIST"):(p.removeEventListener("click",h),p.addEventListener("click",y),p.textContent="ADD TO SHOPING LIST"),localStorage.setItem("bookShopingListLS",JSON.stringify(S))}function y(){console.log("Added!"),S.push(m),g()}function h(){console.log("Removed!"),S=S.filter((e=>e._id!==m._id)),g()}i.addEventListener("click",(async function(e){e.preventDefault();try{m=await async function(e){const t=await r.default.get(`https://books-backend.p.goit.global/books/${e}`);return await t.data}(e.target.parentNode.dataset.bookid),l.classList.replace("hidden","visible"),d.setAttribute("src",m.book_image),d.setAttribute("alt",m.title),s.textContent=m.title,u.textContent=m.author,a.textContent=m.description;const t=m.buy_links.find((e=>"Amazon"===e.name)).url,o=m.buy_links.find((e=>"Bookshop"===e.name)).url,n=m.buy_links.find((e=>{e.name})).url;b.setAttribute("href",t),f.setAttribute("href",o),k.setAttribute("href",n),g()}catch{console.log("Error")}})),c.addEventListener("click",(function(){l.classList.replace("visible","hidden")}));
//# sourceMappingURL=index.e2ffc83c.js.map
