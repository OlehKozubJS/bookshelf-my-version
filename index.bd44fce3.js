var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in o){var n=o[e];delete o[e];var r={id:e,exports:{}};return t[e]=r,n.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){o[e]=t},e.parcelRequired7c6=n);var r=n("2shzp");const i=document.querySelector(".js-books"),l=document.querySelector(".popup-modal-background"),c=document.querySelector(".popup-modal-close-button"),d=document.querySelector(".book-image"),u=document.querySelector(".book-title"),s=document.querySelector(".book-author"),a=document.querySelector(".book-description"),p=document.querySelector(".add-to-list-button"),f=document.querySelector(".amazon-link"),b=document.querySelector(".bookshop-link");document.querySelector(".openbook-link");let k,m=[];function y(){m.some((e=>e._id===k._id))?(p.removeEventListener("click",g),p.addEventListener("click",v),p.textContent="REMOVE FROM SHOPING LIST"):(p.removeEventListener("click",v),p.addEventListener("click",g),p.textContent="ADD TO SHOPING LIST")}function g(){console.log("Added!"),m.push(k),console.log(m),y()}function v(){console.log("Removed!"),m=m.filter((e=>e._id!==k._id)),console.log(m),y()}i.addEventListener("click",(async function(e){e.preventDefault();try{k=await async function(e){const t=await r.default.get(`https://books-backend.p.goit.global/books/${e}`);return await t.data}(e.target.dataset.id),l.classList.replace("hidden","visible"),d.setAttribute("src",k.book_image),d.setAttribute("alt",k.title),u.textContent=k.title,s.textContent=k.author,a.textContent=k.description;const t=k.buy_links.find((e=>"Amazon"===e.name)).url,o=k.buy_links.find((e=>"Bookshop"===e.name)).url;f.setAttribute("href",t),b.setAttribute("href",o),y()}catch{console.log("Error")}})),c.addEventListener("click",(function(){l.classList.replace("visible","hidden")}));
//# sourceMappingURL=index.bd44fce3.js.map
