var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in o){var n=o[e];delete o[e];var r={id:e,exports:{}};return t[e]=r,n.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){o[e]=t},e.parcelRequired7c6=n);var r=n("2shzp");const i=document.querySelector(".js-books"),l=document.querySelector(".popup-modal-background"),c=document.querySelector(".popup-modal-close-button"),d=document.querySelector(".book-image"),s=document.querySelector(".book-title"),a=document.querySelector(".book-author"),u=document.querySelector(".book-description"),p=document.querySelector(".add-to-list-button"),b=document.querySelector(".amazon-link"),f=document.querySelector(".bookshop-link");document.querySelector(".openbook-link");let k,m=JSON.parse(localStorage.getItem("bookShopingListLS"))||[];function S(){console.log(m),m.some((e=>e._id===k._id))?(p.removeEventListener("click",g),p.addEventListener("click",y),p.textContent="REMOVE FROM SHOPING LIST"):(p.removeEventListener("click",y),p.addEventListener("click",g),p.textContent="ADD TO SHOPING LIST"),localStorage.setItem("bookShopingListLS",JSON.stringify(m))}function g(){console.log("Added!"),m.push(k),S()}function y(){console.log("Removed!"),m=m.filter((e=>e._id!==k._id)),S()}i.addEventListener("click",(async function(e){e.preventDefault();try{k=await async function(e){const t=await r.default.get(`https://books-backend.p.goit.global/books/${e}`);return await t.data}(e.target.parentNode.dataset.bookid),l.classList.replace("hidden","visible"),d.setAttribute("src",k.book_image),d.setAttribute("alt",k.title),s.textContent=k.title,a.textContent=k.author,u.textContent=k.description;const t=k.buy_links.find((e=>"Amazon"===e.name)).url,o=k.buy_links.find((e=>"Bookshop"===e.name)).url;b.setAttribute("href",t),f.setAttribute("href",o),S()}catch{console.log("Error")}})),c.addEventListener("click",(function(){l.classList.replace("visible","hidden")}));
//# sourceMappingURL=index.71aa4a1e.js.map
