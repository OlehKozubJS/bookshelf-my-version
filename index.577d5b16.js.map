{"mappings":"iiBAAA,IAWIA,EACAC,EAZJC,EAAAC,EAAA,S,0BAEMC,EAAuBC,SAASC,cAAc,2BAC9CC,EAAwBF,SAASC,cAAc,6BAC/CE,EAAYH,SAASC,cAAc,eACnCG,EAAYJ,SAASC,cAAc,eACnCI,EAAaL,SAASC,cAAc,gBACpCK,EAAkBN,SAASC,cAAc,qBACzCM,EAAkBP,SAASC,cAAc,uB,SAUhCO,I,OAAAA,EAAfC,EAAAZ,EAAA,CAAAY,EAAAC,GAAAC,MAAA,SAAAC,EAA8BC,G,yEAC5BA,EAAMC,iB,kBAEaC,EAAYF,EAAMG,OAAOC,QAAQC,I,OAAlDvB,EAAQwB,EAAAC,KACRC,QAAQC,IAAIT,EAAMG,OAAOC,QAAQC,IACjCnB,EAAqBwB,UAAUC,QAAQ,SAAU,WACjDrB,EAAUsB,aAAa,MAAO9B,EAAS+B,YACvCvB,EAAUsB,aAAa,MAAO9B,EAASgC,OACvCvB,EAAUwB,YAAcjC,EAASgC,MACjCtB,EAAWuB,YAAcjC,EAASkC,OAClCvB,EAAgBsB,YAAcjC,EAASmC,YAEnClC,EAAgBmC,MAAK,SAACC,GAAUA,EAAKC,IAAQtC,EAASsC,G,KACxD1B,EAAgB2B,oBAAoB,QAASC,GAC7C5B,EAAgB6B,iBAAiB,QAASC,GAC1C9B,EAAgBqB,YAAc,6BAG9BrB,EAAgB2B,oBAAoB,QAASG,GAC7C9B,EAAgB6B,iBAAiB,QAASD,GAC1C5B,EAAgBqB,YAAc,uB,kDAIhCP,QAAQC,IAAI,S,2DAxBagB,MAAAC,KAAAC,U,UAkCdzB,EAAY0B,G,OAAZC,EAAWJ,MAAAC,KAAAC,U,UAAXE,I,OAAAA,EAAfjC,EAAAZ,EAAA,CAAAY,EAAAC,GAAAC,MAAA,SAAAC,EAA2B6B,G,IACnBE,E,kFAAiBC,EAAAC,QAAMC,IAAI,6CAAoDC,OAAPN,I,cAAxEE,EAAQxB,EAAAC,KACdC,QAAQC,IAAIqB,G,kBACLA,EAASK,M,4CAHQV,MAAAC,KAAAC,U,CAO1B,SAASL,IACPvC,EAAgBqD,KAAKtD,E,CAIvB,SAAS0C,IACPzC,EAAkBA,EAAgBsD,QAAO,SAAClB,GAAUA,EAAKC,IAAQtC,EAASsC,G,IAxD5DjC,SAASC,cAAc,aAK/BmC,iBAAiB,S,SAIKvB,G,OAAfL,EAAc8B,MAAAC,KAAAC,U,IAH7BtC,EAAsBkC,iBAAiB,SAgCvC,WACErC,EAAqBwB,UAAUC,QAAQ,UAAW,S","sources":["src/js/pop-up.js"],"sourcesContent":["import axios from \"axios\";\n\nconst popupModalBackground = document.querySelector(\".popup-modal-background\");\nconst popupModalCloseButton = document.querySelector(\".popup-modal-close-button\");\nconst bookImage = document.querySelector(\".book-image\");\nconst bookTitle = document.querySelector(\".book-title\");\nconst bookAuthor = document.querySelector(\".book-author\");\nconst bookDescription = document.querySelector(\".book-description\");\nconst addToListButton = document.querySelector(\".add-to-list-button\");\nconst jsBooks = document.querySelector(\".js-books\");\n\nlet bookData;\nlet bookShopingList;\n\njsBooks.addEventListener(\"click\", openPopupModal);\npopupModalCloseButton.addEventListener(\"click\", closePopupModal);\n\n\nasync function openPopupModal(event) {\n  event.preventDefault();\n  try {\n    bookData = await getBookInfo(event.target.dataset.id);\n    console.log(event.target.dataset.id);\n    popupModalBackground.classList.replace(\"hidden\", \"visible\");\n    bookImage.setAttribute(\"src\", bookData.book_image);\n    bookImage.setAttribute(\"alt\", bookData.title);\n    bookTitle.textContent = bookData.title;\n    bookAuthor.textContent = bookData.author;\n    bookDescription.textContent = bookData.description;\n\n    if (bookShopingList.some((book) => {book._id === bookData._id})) {\n      addToListButton.removeEventListener(\"click\", addToListFunction);\n      addToListButton.addEventListener(\"click\", removeFromListFunction);\n      addToListButton.textContent = \"REMOVE FROM SHOPING LIST\";\n    }\n    else {\n      addToListButton.removeEventListener(\"click\", removeFromListFunction);\n      addToListButton.addEventListener(\"click\", addToListFunction);\n      addToListButton.textContent = \"ADD TO SHOPING LIST\";\n    }\n  }\n  catch {\n    console.log(\"Error\");\n  }\n}\n\n\nfunction closePopupModal() {\n  popupModalBackground.classList.replace(\"visible\", \"hidden\");\n}\n\n\nasync function getBookInfo(bookId) {\n  const response = await axios.get(`https://books-backend.p.goit.global/books/${bookId}`);\n  console.log(response);\n  return response.data;\n}\n\n\nfunction addToListFunction() {\n  bookShopingList.push(bookData);\n}\n\n\nfunction removeFromListFunction() {\n  bookShopingList = bookShopingList.filter((book) => {book._id !== bookData._id});\n}\n\n\nconst bookObjectExample = {\n  \"_id\": \"642fd89ac8cf5ee957f12361\",\n  \"list_name\": \"Middle Grade Paperback Monthly\",\n  \"date\": \"2023-04-07T08:46:57.000Z\",\n  \"age_group\": \"\",\n  \"amazon_product_url\": \"https://www.amazon.com/Wish-Barbara-OConnor/dp/1250144051?tag=NYTBSREV-20\",\n  \"article_chapter_link\": \"\",\n  \"author\": \"Barbara O'Connor\",\n  \"book_image\": \"https://storage.googleapis.com/du-prd/books/images/9781250144058.jpg\",\n  \"book_image_width\": 330,\n  \"book_image_height\": 485,\n  \"book_review_link\": \"\",\n  \"book_uri\": \"nyt://book/46604242-8624-57d1-bdd4-424c21cde273\",\n  \"contributor\": \"by Barbara O'Connor\",\n  \"contributor_note\": \"\",\n  \"created_date\": \"2023-04-05 23:10:17\",\n  \"description\": \"\",\n  \"first_chapter_link\": \"\",\n  \"price\": \"0.00\",\n  \"primary_isbn10\": \"1250144051\",\n  \"primary_isbn13\": \"9781250144058\",\n  \"publisher\": \"Square Fish\",\n  \"rank\": 1,\n  \"rank_last_week\": 0,\n  \"sunday_review_link\": \"\",\n  \"title\": \"WISH\",\n  \"updated_date\": \"2023-04-05 23:10:17\",\n  \"weeks_on_list\": 0,\n  \"buy_links\": [\n    {\n      \"name\": \"Amazon\",\n      \"url\": \"https://www.amazon.com/Wish-Barbara-OConnor/dp/1250144051?tag=NYTBSREV-20\"\n    },\n    {\n      \"name\": \"Apple Books\",\n      \"url\": \"https://goto.applebooks.apple/9781250144058?at=10lIEQ\"\n    },\n    {\n      \"name\": \"Barnes and Noble\",\n      \"url\": \"https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9781250144058\"\n    },\n    {\n      \"name\": \"Books-A-Million\",\n      \"url\": \"https://du-gae-books-dot-nyt-du-prd.appspot.com/redirect?url1=https%3A%2F%2Fwww.anrdoezrs.net%2Fclick-7990613-35140%3Furl%3Dhttps%253A%252F%252Fwww.booksamillion.com%252Fp%252FWISH%252FBarbara%252BO%252527Connor%252F9781250144058&url2=https%3A%2F%2Fwww.anrdoezrs.net%2Fclick-7990613-35140%3Furl%3Dhttps%253A%252F%252Fwww.booksamillion.com%252Fsearch%253Fquery%253DWISH%252BBarbara%252BO%252527Connor\"\n    },\n    {\n      \"name\": \"Bookshop\",\n      \"url\": \"https://du-gae-books-dot-nyt-du-prd.appspot.com/redirect?url1=https%3A%2F%2Fbookshop.org%2Fa%2F3546%2F9781250144058&url2=https%3A%2F%2Fbookshop.org%2Fbooks%3Faffiliate%3D3546%26keywords%3DWISH\"\n    },\n    {\n      \"name\": \"IndieBound\",\n      \"url\": \"https://du-gae-books-dot-nyt-du-prd.appspot.com/redirect?url1=https%3A%2F%2Fwww.indiebound.org%2Fbook%2F9781250144058%3Faff%3DNYT&url2=https%3A%2F%2Fwww.indiebound.org%2Fsearch%2Fbook%3Fkeys%3DWISH%2BBarbara%2BO%2527Connor%26aff%3DNYT\"\n    }\n  ],\n  \"__v\": 0\n}\n\n\n"],"names":["$dae67d51b9dcdf97$var$bookData","$dae67d51b9dcdf97$var$bookShopingList","$bpxeT","parcelRequire","$dae67d51b9dcdf97$var$popupModalBackground","document","querySelector","$dae67d51b9dcdf97$var$popupModalCloseButton","$dae67d51b9dcdf97$var$bookImage","$dae67d51b9dcdf97$var$bookTitle","$dae67d51b9dcdf97$var$bookAuthor","$dae67d51b9dcdf97$var$bookDescription","$dae67d51b9dcdf97$var$addToListButton","$dae67d51b9dcdf97$var$_openPopupModal","$parcel$interopDefault","$2TvXO","mark","_callee","event","preventDefault","$dae67d51b9dcdf97$var$getBookInfo","target","dataset","id","_ctx","sent","console","log","classList","replace","setAttribute","book_image","title","textContent","author","description","some","book","_id","removeEventListener","$dae67d51b9dcdf97$var$addToListFunction","addEventListener","$dae67d51b9dcdf97$var$removeFromListFunction","apply","this","arguments","bookId","$dae67d51b9dcdf97$var$_getBookInfo","response","$dIxxU","default","get","concat","data","push","filter"],"version":3,"file":"index.577d5b16.js.map"}